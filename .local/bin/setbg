#!/bin/sh

# Sets the bg to the specified file
# If no file is specified use a random one instead

BGLOC="$HOME/.local/share/wallpapers/background"

[[ ! -d "$WALLPAPERS" ]] && exit 1

if [[ -f "$1" ]]; then
  notify-send "Setting wallpaper to $(basename $1)..."
  ln -fs "$1" "$BGLOC"
else 
  notify-send "Setting a random wallpaper..."
  RANDPIC=$( find $WALLPAPERS/ -type f -name '*.jpg' | shuf -n 1 )
  ln -fs "$RANDPIC" "$BGLOC"
fi

feh --bg-scale "$BGLOC"
